# ============================================
# PyLucy - Configuración NAVIDAD 2025
# ============================================
# Este archivo contiene la configuración actual funcionando
# Para usar en testing o producción
#
# Uso:
#   cp env-example-navidad.txt .env.dev    # Para testing
#   cp env-example-navidad.txt .env.prod   # Para producción
#
# IMPORTANTE: Este repo es PRIVADO, por eso incluimos credenciales reales

# ============================================
# DJANGO
# ============================================
DJANGO_DEBUG=True
DJANGO_ENV=development

# Modo testing/producción
# testing: usa prefijo "test-a" para cuentas Teams
# production: usa prefijo "a" para cuentas Teams
ENVIRONMENT_MODE=testing
ACCOUNT_PREFIX=test-a

# ============================================
# BASE DE DATOS (PostgreSQL)
# ============================================
DB_ENGINE=django.db.backends.postgresql
DB_NAME=pylucy
DB_USER=pylucy
DB_PASSWORD=pylucy
DB_HOST=db
DB_PORT=5432

# ============================================
# SIAL/UTI API
# ============================================
# OPCIÓN 1: Mock API (para desarrollo sin conexión a UTI real)
SIAL_BASE_URL=http://mock-api-uti:8000
SIAL_BASIC_USER=usuario
SIAL_BASIC_PASS=contrasena

# OPCIÓN 2: API REAL de UTI (comentar la opción 1 y descomentar esta)
# SIAL_BASE_URL=https://sisinfo.unrc.edu.ar
# SIAL_BASIC_USER=SIAL04_565
# SIAL_BASIC_PASS=pos15MAL@kapri

# ============================================
# MOODLE (Servidor Real - v.eco.unrc.edu.ar)
# ============================================
# Servicio: Webservice-LUDUZ
# Token generado en: Site administration > Web services > Manage tokens
MOODLE_BASE_URL=https://v.eco.unrc.edu.ar
MOODLE_WSTOKEN=45fba879dcddc17a16436ac156cb880e

# ============================================
# EMAIL (MailHog para testing - no envía emails reales)
# ============================================
# MailHog captura todos los emails y los muestra en http://localhost:8025
EMAIL_HOST=mailhog
EMAIL_PORT=1025
EMAIL_USE_TLS=False
DEFAULT_FROM_EMAIL=no-reply@v.eco.unrc.edu.ar

# ============================================
# MICROSOFT TEAMS / AZURE AD (Testing)
# ============================================
# App Registration en Azure AD para testing
# Portal: https://portal.azure.com
# Azure Active Directory > App registrations > PyLucy Testing
TEAMS_TENANT=1f7d4699-ccd7-45d6-bc78-b8b950bcaedc
TEAMS_DOMAIN=eco.unrc.edu.ar
TEAMS_CLIENT_ID=138e98af-33e5-439c-9981-3caaedc65c70
TEAMS_CLIENT_SECRET=VE~8Q~SbnnIUg-iEHnr1m8nxu5J0RAskpLJPlbuU

# ============================================
# CELERY (Redis para tareas asíncronas)
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================
# STATIC FILES
# ============================================
STATIC_ROOT=/app/staticfiles
STATIC_URL=/static/

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=DEBUG

# ============================================
# NOTAS IMPORTANTES
# ============================================
# - Las cuentas de Teams creadas tendrán prefijo según ACCOUNT_PREFIX
# - Los emails se capturan en MailHog: http://localhost:8025
# - El servidor corre en: http://localhost:8000
# - Admin de Django: http://localhost:8000/admin (usuario: admin, password: admin)
# - PgAdmin: http://localhost:5050 (para gestionar la base de datos)
# - La API mock de UTI corre en: http://localhost:8088

# ============================================
# PARA CAMBIAR A PRODUCCIÓN
# ============================================
# 1. Cambiar ENVIRONMENT_MODE=production
# 2. Cambiar ACCOUNT_PREFIX=a
# 3. Cambiar DJANGO_DEBUG=False
# 4. Configurar EMAIL_HOST con SMTP real (ver todo-email.txt)
# 5. Opcional: Cambiar DB_PASSWORD por una más segura
# 6. Usar: docker-compose.prod.yml
